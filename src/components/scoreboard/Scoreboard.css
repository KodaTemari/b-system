@charset "utf-8";

:root {
  /* フォントサイズ */
  --font-size-2s: calc(12rem / 16);
  --font-size-s: calc(14rem / 16);
  --font-size-m: 1rem;
  --font-size-l: calc(18rem / 16);
  --font-size-2l: calc(20rem / 16);
  --font-size-3l: calc(26rem / 16);
  --font-size-4l: calc(32rem / 16);

  --font-size-h1: calc(48rem / 16);
  --font-size-h2: calc(36rem / 16);
  --font-size-h3: calc(30rem / 16);
  --font-size-h4: calc(22rem / 16);

  /* 色 - 赤系 */
  --color-red: 162, 47, 47;
  --color-red-base: rgba(var(--color-red), 1);
  --color-red-light: rgba(var(--color-red), 0.3);
  --color-red-medium: rgba(var(--color-red), 0.5);

  /* 色 - 青系 */
  --color-blue: 16, 87, 193;
  --color-blue-base: rgba(var(--color-blue), 1);
  --color-blue-light: rgba(var(--color-blue), 0.3);
  --color-blue-medium: rgba(var(--color-blue), 0.5);

  /* 色 - グレー系 */
  --color-gray-dark: #222;
  --color-gray-darker: #1a1a1a;
  --color-gray-medium-dark: #2a2a2a;
  --color-gray-base: #444;
  --color-gray-light: #666;
  --color-gray-lighter: #CCC;
  --color-gray-rgb: 68, 68, 68;
  --color-gray-rgb-light: rgba(var(--color-gray-rgb), 0.5);
  --color-gray-rgb-medium: rgba(var(--color-gray-rgb), 0.8);

  /* 色 - 白系 */
  --color-white: #FFF;
  --color-white-base: rgba(255, 255, 255, 1);
  --color-white-light: rgba(255, 255, 255, 0.8);
  --color-white-medium: rgba(255, 255, 255, 0.3);
  --color-white-dark: rgba(255, 255, 255, 0.1);

  /* 色 - 黒系 */
  --color-black: #000;
  --color-black-light: rgba(0, 0, 0, 0.3);
  --color-black-medium: rgba(0, 0, 0, 0.5);
  --color-black-dark: rgba(0, 0, 0, 0.8);
  --color-black-darker: rgba(0, 0, 0, 0.95);

  /* 色 - 緑系（承認ボタン用） */
  --color-green: 46, 125, 50;
  --color-green-light: rgba(var(--color-green), 0.7);
  --color-green-base: rgba(var(--color-green), 1);
}

#scoreboard {
  font-size: var(--font-size-m);
  line-height: 1.5;
  animation: fadeIn-anim 0.5s linear forwards;
}

[data-mode="view"] [data-section="standby"]::before,
[data-mode="view"]::after {
  display: block;
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  pointer-events: none;
  z-index: 1;
  transition: opacity 0.5s;
}

[data-mode="view"] [data-section="standby"]::before {
  background-image: url('./img/bg.jpg');
  z-index: 0;
}

[data-mode="view"].cover::after {
  background-image: url('./img/cover.png');
  opacity: 1;
  animation: coverFadeIn 0.7s ease-in-out;
}

[data-mode="view"].cover-fade-out::after {
  background-image: url('./img/cover.png');
  opacity: 1;
  animation: coverFadeOut 0.7s ease-in-out forwards;
}

@keyframes coverFadeIn {
  0% {
    opacity: 0;
  }
  100% {
    opacity: 1;
  }
}

@keyframes coverFadeOut {
  0% {
    opacity: 1;
  }
  100% {
    opacity: 0;
  }
}

[data-mode="view"] [data-section="standby"] #sectionNav {
  display: flex;
  justify-content: center;
  background-color: inherit;
}

#matchInfo {
  margin-top: 5vh;
}

#classification {
  display: inline-block;
  font-size: 4vmin;
  margin: 0 1vw;
}

#category {
  display: inline-block;
  font-size: 4vmin;
  margin: 0 1vw;
}

#matchName {
  font-size: 13vmin;
}

#setColorBox {
  position: absolute;
  display: flex;
  flex-direction: column;
  align-items: center;
  padding-top: 15vh;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
}

#sectionNav #setColorBox [name="setColorBtn"] {
  margin-top: 5vh;
}

#sectionNav #setColorBox [name="resetColorBtn"] {
  margin-top: 12vh;
  transform: scale(0.5);
  opacity: 0.5;
}

[name="startWarmupBtn"] {
  position: fixed;
  left: 50%;
  transform: translateX(-50%);
  bottom: 7vh;
  white-space: nowrap;
  max-width: 90vw;
  word-wrap: break-word;
  overflow-wrap: break-word;
}

.vs {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-size: 6vmin;
  opacity: 0.5;
}

[data-mode="view"] [data-setcolor="true"]#scoreboard::after {
  opacity: 0;
}

#scoreboard .number,
#scoreboard .timer {
  font-family: Arial, Helvetica, sans-serif;
}

#scoreboard button {
  background-color: transparent;
  border: none;
  cursor: pointer;
  outline: none;
  padding: 0;
  appearance: none;
  color: var(--color-white);
}

[data-mode="view"] #scoreboard main button,
#scoreboard button:disabled {
  cursor: inherit;
}

#scoreboard header {
  position: relative;
  height: 2vh;
  z-index: 90;
}

#scoreboard header h1 {
  font-size: 3rem;
}

#scoreboard header h2 {
  font-size: 2.4rem;
}

#ends {
  display: flex;
  justify-content: center;
  align-items: center;
  position: absolute;
  top: 3vh;
  left: 0;
  right: 0;
  margin: 0 auto;
  width: 6vw;
  height: 11vh;
  border-radius: 2vmin;
  z-index: 100;
}

#endsBox {
  display: flex;
  align-items: center;
  justify-content: center;
  height: 100%;
  width: 100%;
  font-size: 7vmin;
  border-radius: 2vmin;
  background: var(--color-gray-base);
  text-align: center;
}

#setting button {
  position: absolute;
  top: 3vh;
  width: 6vw;
  opacity: 0.8;
}

#setting button:hover {
  opacity: 1;
}

#setting [name="settingBtn"] {
  top: 62vh;
  left: 47vw;
  z-index: 100;
}

#scoreboard .settingModalCloseBtn {
  opacity: 1;
}

.next #setting [name="settingBtn"] {
  top: 25vh;
  opacity: 0.3;
}

[data-scoreadjust="true"] #setting [name="settingBtn"] {
  opacity: 0.1;
}

[data-scoreadjust="true"] #timeSetting {
  display: none;
}

[data-section="standby"] #setting [name="settingBtn"] {
  top: 30vh;
  opacity: 0.2;
}

[data-section="matchFinished"] #setting [name="settingBtn"],
[data-section="resultApproval"] #setting [name="settingBtn"] {
  opacity: 0.2;
}

[data-section="standby"] .settingModalCloseBtn {
  top: 30vh;
}

[data-section="warmup"] #setting [name="settingBtn"],
[data-section="warmup1"] #setting [name="settingBtn"],
[data-section="warmup2"] #setting [name="settingBtn"] {
  top: 22vh;
  opacity: 0.3;
}

[data-section="warmup"] .settingModalCloseBtn,
[data-section="warmup1"] .settingModalCloseBtn,
[data-section="warmup2"] .settingModalCloseBtn {
  top: 22vh;
}

[data-section="interval"] #setting [name="settingBtn"] {
  opacity: 0.3;
}

[data-section="interval"] #setting [name="settingBtn"],
[data-section="interval"] .settingModalCloseBtn {
  top: 38vh;
}

[name="colorChangeBtn"] {
  left: calc(50% - 3vmax);
  width: 8vmax;
}

#scoreboard main {
  display: flex;
  justify-content: space-between;
  width: 96vw;
  margin: 0 auto;
}

#scoreboard main > section {
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  width: 48%;
  text-align: center;
}

#scoreboard[data-section="resultApproval"] main {
  justify-content: space-between;
}

#scoreboard[data-section="resultApproval"] main #red {
  align-self: flex-start;
}

#scoreboard[data-section="resultApproval"] main #blue {
  align-self: flex-end;
}

#scoreboard[data-section="resultApproval"] .score {
  width: 35vw;
}

#scoreboard[data-section="resultApproval"] #blue .score {
  margin-left: auto;
}

/* 結果表のスタイル */
/* data-forfeit="true"のとき、resultTableを非表示 */
#scoreboard[data-forfeit="true"] #resultTable {
  display: none;
}

#resultTable {
  position: absolute;
  left: 50%;
  top: 18vh;
  transform: translateX(-50%);
  width: 23vw;
  height: 57vh;
  padding: 0;
  box-sizing: border-box;
  z-index: 10;
}

#resultTable table {
  width: 100%;
  height: 41vh;
  border-collapse: collapse;
  font-size: 3vmin;
  color: var(--color-white);
  background-color: var(--color-black-medium);
  border-radius: 2vmin;
  display: table;
  table-layout: fixed;
  box-sizing: border-box;
  overflow: hidden;
}

#resultTable thead {
  background-color: var(--color-white-dark);
  display: table-header-group;
}

#resultTable th {
  padding: 1vh 1vw;
  text-align: center;
  font-weight: bold;
  border: 0.4vmin solid var(--color-gray-dark);
  background-color: var(--color-gray-base);
  font-size: 1.5vmin;
}

#resultTable th:nth-child(2) {
  background-color: var(--color-gray-rgb-medium);
}

#resultTable th:first-child {
  background-color: var(--color-red-medium);
}

#resultTable th:last-child {
  background-color: var(--color-blue-medium);
}

#resultTable th:first-child,
#resultTable th:last-child {
  width: 40%;
}

#resultTable th:nth-child(2) {
  width: 20%;
}

#resultTable thead tr:first-child th:first-child {
  border-top-left-radius: 2vmin;
  border-top: none;
}

#resultTable thead tr:first-child th:last-child {
  border-top-right-radius: 2vmin;
  border-top: none;
}

#resultTable thead tr:first-child th {
  border-top: none;
}

#resultTable td:nth-child(2) {
  background-color: var(--color-gray-rgb-light);
  font-size: 2vmin;
}

#resultTable tbody {
  display: table-row-group;
  max-height: calc(57vh - 8vh);
  overflow-y: auto;
}

#resultTable tbody tr {
  display: table-row;
  border: none;
}

#resultTable tbody tr:last-child td:first-child {
  border-bottom-left-radius: 2vmin;
  border-bottom: none;
}

#resultTable tbody tr:last-child td:last-child {
  border-bottom-right-radius: 2vmin;
  border-bottom: none;
}

#resultTable tbody tr:last-child td {
  border-bottom: none;
}

#resultTable td {
  padding: 0;
  text-align: center;
  border: 0.4vmin solid var(--color-gray-dark);
}

#resultTable td:first-child,
#resultTable td:last-child {
  width: 40%;
}

#resultTable td:nth-child(2) {
  width: 20%;
}

#resultTable tbody td:first-child {
  background-color: var(--color-red-light);
  color: var(--color-white);
  font-weight: bold;
  font-size: 3vmin;
}

#resultTable tbody td:first-child.has-score {
  background-color: var(--color-red-base);
}

#resultTable tbody td:last-child {
  background-color: var(--color-blue-light);
  color: var(--color-white);
  font-weight: bold;
  font-size: 3vmin;
}

#resultTable tbody td:last-child.has-score {
  background-color: var(--color-blue-base);
}

#resultTable tbody td:nth-child(2) {
  color: var(--color-white-light);
}

#scoreboard main section h2 {
  display: flex;
  justify-content: center;
  align-items: center;
  position: relative;
  height: 13vh;
  padding: 0 4vw;
  text-overflow: ellipsis;
  white-space: nowrap;
  overflow: hidden;
  font-size: 7vmin;
  font-weight: normal;
}

#scoreboard main section h2 .name {
  transform-origin: center;
  transition: transform 0.3s ease;
}

#scoreboard main #red h2 {
  margin: 0 4vw 0 2vw;
}

#scoreboard main #blue h2 {
  margin: 0 2vw 0 4vw;
}

#scoreboard[data-section="standby"]  main h2 {
  position: relative;
  top: 40vh;
  z-index: 100;
}

.bibs {
  position: absolute;
  top: 1.5vmin;
  display: inline-block;
  background: #CCC url(img/bibs_2.png) no-repeat;
  background-size: cover;
  width: 7.2vmin;
  height: 10vmin;
  box-shadow: 0 0 0 1px var(--color-gray-dark) inset;
}

#red .bibs {
  left: 1vw;
}

#blue .bibs {
  right: 1vw;
}


#scoreboard .score {
  display: flex;
  justify-content: center;
  align-items: center;
  position: relative;
  width: 100%;
  height: 31vh;
  border-radius: 2vmin;
  margin: 3vh 0;
  transition: height 0.5s;
}

/* ペナルティアイコン */
#scoreboard .score .penaltyIcons {
  position: absolute;
  left: 2vw;
  display: flex;
  flex-direction: column;
  gap: 1vh;
  align-items: center;
  z-index: 10;
}

#scoreboard .score .penaltyIcon {
  display: inline-block;
  width: 7vmin;
  height: 7vmin;
  border-radius: 0.5vmin;
  position: relative;
  border: 0.5vmin solid var(--color-white);
}

#scoreboard .score .penaltyIcon.penaltyBall {
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center;
  border-radius: 50%;
}

#red .score .penaltyIcon.penaltyBall {
  background-image: url(/src/components/scoreboard/img/ball_red.png);
}

#blue .score .penaltyIcon.penaltyBall {
  background-image: url(/src/components/scoreboard/img/ball_blue.png);
}

#scoreboard[data-penaltythrow="true"] .score .penaltyIcon.penaltyBall {
  transform: scale(2);
  transition: transform 0.3s ease;
}

#penaltyThrowLabel {
  position: fixed;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 17vh;
  background-color: #222;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--color-white);
  font-size: 5vmin;
  font-weight: bold;
  z-index: 1000;
}

#scoreboard .score .penaltyIcon.yellowCard {
  background-color: #FFD700;
  width: 5vmin;
  height: 7vmin;
  border-radius: 1vmin;
  box-shadow: inset 0 0 0 0.1vmin var(--color-gray-dark);
}

#scoreboard .score .penaltyIcon.redCard {
  background-color: var(--color-red-base);
  width: 5vmin;
  height: 7vmin;
  border-radius: 1vmin;
  box-shadow: inset 0 0 0 0.1vmin var(--color-gray-dark);
}

#scoreboard .score .penaltyIcon.redCard[data-count]::after {
  display: none;
}

#scoreboard .score .penaltyIcon.yellowCard[data-count="1"]::after {
  display: none;
}

#scoreboard .score .penaltyIcon[data-count]::after {
  font-family: Arial, Helvetica, sans-serif;
  content: attr(data-count);
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-size: 6vmin;
  font-weight: bold;
  color: var(--color-white);
  text-shadow: 
    0.1vmin 0 0 var(--color-gray-dark),
    -0.1vmin 0 0 var(--color-gray-dark),
    0 0.1vmin 0 var(--color-gray-dark),
    0 -0.1vmin 0 var(--color-gray-dark);
}

#scoreboard .score .penaltyIcon.penaltyIcon-clickable {
  cursor: pointer;
}

#scoreboard .score .penaltyIcon .penaltyIcon-delete {
  position: absolute;
  top: -1vmin;
  right: -1vmin;
  width: 3vmin;
  height: 3vmin;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: #444;
  color: var(--color-white);
  font-size: 2vmin;
  font-weight: bold;
  border-radius: 50%;
  border: 0.2vmin solid var(--color-white);
  cursor: pointer;
  z-index: 10;
  line-height: 1;
  padding: 0;
}

#scoreboard .score button[name$="ScoreBtn"] {
  display: block;
  height: 100%;
  width: 100%;
  font-size: 35vmin;
  font-weight: bold;
  border-radius: 2vmin;
  line-height: 0.8;
  transition: font-size 0.5s;
  position: relative;
}

#scoreboard .score .plus,
#scoreboard .score .minus,
#scoreboard .score .tieBreak {
  display: none;
  position: absolute;
  right: 3vw;
  width: 13vmin;
  height: 13vmin;
  border: solid 0.3vmin var(--color-white);
  border-radius: 2vmin;
  box-sizing: border-box;
  font-size: 12vmin;
  line-height: 1;
  z-index: 10;
}

[data-mode="view"] #scoreboard .score .plus,
[data-mode="view"] #scoreboard .score .minus,
[data-mode="view"] #scoreboard .score .tieBreak {
  display: none!important;
}

#scoreboard .score button.plus {
  top: 1.5vh;
}

#scoreboard .score button.minus {
  bottom: 1.5vh;
}

#scoreboard .score button.tieBreak  {
  top: 9vh;
}

[data-active="red-score"] #red .plus,
[data-active="red-score"] #red .minus,
[data-active="blue-score"] #blue .plus,
[data-active="blue-score"] #blue .minus,
[data-scoreadjust="true"][data-active="red-score"] #red .plus,
[data-scoreadjust="true"][data-active="red-score"] #red .minus,
[data-scoreadjust="true"][data-active="blue-score"] #blue .plus,
[data-scoreadjust="true"][data-active="blue-score"] #blue .minus,
[data-section="finalShot"] [data-active="red-score"] #red .tieBreak,
[data-section="finalShot"] [data-active="blue-score"] #blue .tieBreak,
[data-section="tieBreak"] [data-active="red-score"] #red .tieBreak,
[data-section="tieBreak"] [data-active="blue-score"] #blue .tieBreak {
  display: block;
  opacity: 0.8;
}

[data-section="finalShot"] [data-active="red-score"] #red .plus,
[data-section="finalShot"] [data-active="red-score"] #red .minus,
[data-section="finalShot"] [data-active="blue-score"] #blue .plus,
[data-section="finalShot"] [data-active="blue-score"] #blue .minus,
[data-section="tieBreak"] [data-active="red-score"] #red .plus,
[data-section="tieBreak"] [data-active="red-score"] #red .minus,
[data-section="tieBreak"] [data-active="blue-score"] #blue .plus,
[data-section="tieBreak"] [data-active="blue-score"] #blue .minus {
  display: none;
}

.tieBreak[value="true"] {
  display: none !important;
}

.winMark {
  display: none;
  position: absolute;
  width: 30vmin;
  height: 30vmin;
  border: 2vmin solid var(--color-white);
  border-radius: 50%;
  pointer-events: none;
  z-index: 10;
  transition: transform 0.5s;
}

[data-section="finalShot"][data-tieBreak="red"] #red .winMark,
[data-section="finalShot"][data-tieBreak="blue"] #blue .winMark,
[data-section="tieBreak"][data-tieBreak="red"] #red .winMark,
[data-section="tieBreak"][data-tieBreak="blue"] #blue .winMark,
[data-section="matchFinished"][data-tieBreak="red"] #red .winMark,
[data-section="matchFinished"][data-tieBreak="blue"] #blue .winMark,
[data-section="resultApproval"][data-tieBreak="red"] #red .winMark,
[data-section="resultApproval"][data-tieBreak="blue"] #blue .winMark,
[data-section="matchFinished"][data-win="red"] #red .winMark,
[data-section="matchFinished"][data-win="blue"] #blue .winMark,
[data-section="resultApproval"][data-win="red"] #red .winMark,
[data-section="resultApproval"][data-win="blue"] #blue .winMark {
  display: block;
}

[data-section="matchFinished"][data-tieBreak="red"] #red .winMark,
[data-section="matchFinished"][data-tieBreak="blue"] #blue .winMark,
[data-section="matchFinished"][data-win="red"] #red .winMark,
[data-section="matchFinished"][data-win="blue"] #blue .winMark {
  transform: scale(1.5);
}

[data-section="resultApproval"][data-tieBreak="red"] #red .winMark,
[data-section="resultApproval"][data-tieBreak="blue"] #blue .winMark,
[data-section="resultApproval"][data-win="red"] #red .winMark,
[data-section="resultApproval"][data-win="blue"] #blue .winMark {
  transform: scale(1.15);
}

/* viewモード専用のwinMarkサイズ調整 */
[data-mode="view"] [data-section="matchFinished"][data-tieBreak="red"] #red .winMark,
[data-mode="view"] [data-section="matchFinished"][data-tieBreak="blue"] #blue .winMark,
[data-mode="view"] [data-section="matchFinished"][data-win="red"] #red .winMark,
[data-mode="view"] [data-section="matchFinished"][data-win="blue"] #blue .winMark {
  transform: scale(1.3);
}

[data-mode="view"] [data-section="resultApproval"][data-tieBreak="red"] #red .winMark,
[data-mode="view"] [data-section="resultApproval"][data-tieBreak="blue"] #blue .winMark,
[data-mode="view"] [data-section="resultApproval"][data-win="red"] #red .winMark,
[data-mode="view"] [data-section="resultApproval"][data-win="blue"] #blue .winMark {
  transform: scale(1.15);
}

.time {
  height: 31vh;
  transition: height 0.5s;
}

.timer {
  border-radius: 2vmin;
  font-weight: bold;
  font-size: 30vmin;
  line-height: 1;
}

.time button {
  display: block;
  height: 100%;
  width: 100%;
  transition: font-size 0.5s;
}

#sectionNav .btn {
  display: inline-block;
  padding: 1vmin 7vmin;
  border: solid 0.5vmin var(--color-white);
  border-radius: 15vmin;
  font-size: 8vmin;
}

#sectionNav .timer {
  padding: 0 5vw;
  background: var(--color-gray-base);
}

#red .score button,
#red .time button {
  background-color: var(--color-red-light);
}

#blue .score button,
#blue .time button {
  background-color: var(--color-blue-light);
}

[data-mode="ctrl"] #red .time button:disabled,
[data-mode="ctrl"] #blue .time button:disabled,
#blue .time button:disabled {
  opacity: 0.5;
}

[data-active="score"] #red .score button,
[data-active="red-score"] #red [name="redScoreBtn"],
[data-active="red-time"] #red .time button,
[data-section="matchFinished"] #red [name="redScoreBtn"],
[data-section="resultApproval"] #red [name="redScoreBtn"],
[data-tiebreak="red"] #red [name="redScoreBtn"],
#red h2::after {
  background-color: var(--color-red-base);
}

[data-active="score"] #blue .score button,
[data-active="blue-score"] #blue [name="blueScoreBtn"],
[data-active="blue-time"] #blue .time button,
[data-section="matchFinished"] #blue [name="blueScoreBtn"],
[data-section="resultApproval"] #blue [name="blueScoreBtn"],
[data-tiebreak="blue"] #blue [name="blueScoreBtn"],
#blue h2::after {
  background-color: var(--color-blue-base);
}

#scoreboard:not([data-section="interval"]) [data-active="score"] .score {
  height: 45vh;
}

#scoreboard:not([data-section="interval"]) [data-active="score"] .score button {
  font-size: 50vmin;
}

[data-active="score"] .time {
  height: 17vh;
}

[data-active="score"] .time button {
  color: var(--color-white-medium);
  font-size: 15vmin;
}

/* viewモードで得点調整中: 得点を大きく、タイマーを小さく（タイブレークセクションを除く） */
[data-mode="view"] #scoreboard[data-scoreadjust="true"]:not([data-section="tieBreak"]) .score {
  height: 45vh;
}

[data-mode="view"] #scoreboard[data-scoreadjust="true"]:not([data-section="tieBreak"]) .score button {
  font-size: 50vmin;
}

[data-mode="view"] #scoreboard[data-scoreadjust="true"]:not([data-section="tieBreak"]) .time {
  height: 17vh;
}

[data-mode="view"] #scoreboard[data-scoreadjust="true"] .time button {
  font-size: 15vmin;
}

#scoreboard[data-section="matchFinished"] .score {
  height: 47vh;
}

[data-mode="view"] #scoreboard[data-section="matchFinished"] .score {
  height: 59vh;
}

#scoreboard[data-section="resultApproval"] .score,
[data-mode="view"] #scoreboard[data-section="resultApproval"] .score {
  height: 41vh;
}


#scoreboard[data-section="resultApproval"] #red [name="redScoreBtn"],
#scoreboard[data-section="resultApproval"] #blue [name="blueScoreBtn"] {
  font-size: 35vmin;
}

.win {
  display: none;
}

[data-section="matchFinished"] .win,
[data-section="resultApproval"] .win {
  display: block;
  position: relative;
  height: 10vh;
  opacity: 0;
}

[data-section="resultApproval"] .win {
  width: 35vw;
}

[data-win="red"][data-section="matchFinished"] #red .win,
[data-win="blue"][data-section="matchFinished"] #blue .win,
[data-win="red"][data-section="resultApproval"] #red .win,
[data-win="blue"][data-section="resultApproval"] #blue .win {
  opacity: 1;
}

#blue .win {
  margin-left: auto;
}

/* resultApprovalセクションの承認ボタン */
#resultApproval {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 2vh 0;
}

#resultApproval .approvalButtons {
  display: flex;
  justify-content: space-evenly;
  align-items: center;
  width: 100%;
}

#resultApproval .approvalButtons .btn.approval {
  flex: 1;
  max-width: 25vw;
  padding: 2vh 2vw;
  font-size: 4vmin;
  border: 0.3vmin solid #fff;
  border-radius: 5vmin;
  background-color: var(--color-black-light);
  color: var(--color-white);
  transition: all 0.3s;
  position: relative;
}

#resultApproval .approvalButtons .btn.approval.approved {
  background-color: var(--color-green-light);
  border-color: var(--color-green-base);
  position: relative;
}

#resultApproval .approvalButtons .btn.approval.approved::before {
  content: '✔';
  position: absolute;
  top: 50%;
  left: 1vw;
  transform: translateY(-50%);
  font-size: 6vmin;
  color: var(--color-white);
  pointer-events: none;
  z-index: 1;
}

#resultApproval .matchCompleted {
  font-size: 6vmin;
  color: var(--color-white);
  font-weight: bold;
  text-align: center;
  padding: 2vh 0;
  opacity: 0;
  transition: opacity 0.3s;
}

#resultApproval .matchCompleted.visible {
  opacity: 1;
}

.ball {
  position: relative;
  display: flex;
  justify-content: space-around;
  align-items: center;
  width: 100%;
  height: 17vh;
  margin: 0 auto;
}

.ball li {
  width: 9vmin;
  padding: 0 0.5vw;
  transition: transform 0.5s, opacity 0.3s;
}

.ball button {
  width: 5vw;
  height: 5vw;
  border-radius: 50%;
  background: no-repeat center center;
  background-size: cover;
}

.ball [name="redBallBtn"] {
  background-image: url(img/ball_red.png);
}

.ball [name="blueBallBtn"] {
  background-image: url(img/ball_blue.png);
}

.ball .jack [name="redBallBtn"],
.ball .jack [name="blueBallBtn"] {
  background-image: url(img/ball_jack.png);
}

.ball li:first-child {
  position: absolute;
  left: -2vw;
  width: 2.5vw;
}

.ball li:first-child button {
  width: 2.5vw;
  border-radius: 0;
  opacity: 0;
}

.ball:not([data-ball="7"]) li.jack {
  opacity: 0.03;
}

[data-ball="6"] li:nth-child(n + 8),
[data-ball="5"] li:nth-child(n + 7),
[data-ball="4"] li:nth-child(n + 6),
[data-ball="3"] li:nth-child(n + 5),
[data-ball="2"] li:nth-child(n + 4),
[data-ball="1"] li:nth-child(n + 3),
[data-ball="0"] li {
  opacity: 0.1;
}

[data-active="red-time"] #red [data-ball="6"] li:nth-child(7),
[data-active="red-time"] #red [data-ball="5"] li:nth-child(6),
[data-active="red-time"] #red [data-ball="4"] li:nth-child(5),
[data-active="red-time"] #red [data-ball="3"] li:nth-child(4),
[data-active="red-time"] #red [data-ball="2"] li:nth-child(3),
[data-active="red-time"] #red [data-ball="1"] li:nth-child(2),
[data-active="blue-time"] #blue [data-ball="6"] li:nth-child(7),
[data-active="blue-time"] #blue [data-ball="5"] li:nth-child(6),
[data-active="blue-time"] #blue [data-ball="4"] li:nth-child(5),
[data-active="blue-time"] #blue [data-ball="3"] li:nth-child(4),
[data-active="blue-time"] #blue [data-ball="2"] li:nth-child(3),
[data-active="blue-time"] #blue [data-ball="1"] li:nth-child(2) {
  transform: scale(1.3);
  filter: brightness(1.5);
  animation: ball-anim 1.5s linear infinite alternate-reverse;
}

@keyframes ball-anim {
  0% {
		filter: brightness(1);
  }
	100% {
		filter: brightness(1.5);
	}
}

[data-active="red-time"] #red [data-ball="7"] li:nth-child(8),
[data-active="blue-time"] #blue [data-ball="7"] li:nth-child(8) {
  transform: scale(1.3);
  filter: brightness(1.1);
  animation: jack-anim 1.5s infinite alternate-reverse;
}

@keyframes jack-anim {
  0% {
		filter: brightness(1);
  }
	100% {
		filter: brightness(1.1);
	}
}

#sectionNav {
  position: fixed;
  left: 0;
  bottom: 0;
  width: 100%;
  background-color: var(--color-gray-dark);
  text-align: center;
  box-sizing: border-box;
}

#sectionNav > div {
  box-sizing: border-box;
}

[data-section="warmup"] #sec-warmup,
[data-section="warmup1"] #sec-warmup,
[data-section="warmup2"] #sec-warmup {
  height: 82vh;
  padding-top: 8vh;
}

/* warmup1からwarmup2への切り替わり時にフェードイン */
[data-section="warmup2"] #sec-warmup {
  animation: warmupFadeIn 0.5s ease-in-out forwards;
  opacity: 0;
}

@keyframes warmupFadeIn {
  0% {
    opacity: 0;
  }
  100% {
    opacity: 1;
  }
}

[data-mode="ctrl"] [data-section="warmup"] #sec-warmup,
[data-mode="ctrl"] [data-section="warmup1"] #sec-warmup,
[data-mode="ctrl"] [data-section="warmup2"] #sec-warmup {
  padding-top: 6vh;
}

[data-section="warmup"] #sec-warmup .warmupLabel,
[data-section="warmup1"] #sec-warmup .warmupLabel,
[data-section="warmup2"] #sec-warmup .warmupLabel {
  font-size: 8vmin;
  color: var(--color-white);
  text-align: center;
  margin-bottom: 3vh;
  font-weight: bold;
}

[data-section="standby"] #sectionNav {
  height: 100vh;
}

/* インターバルセクションの時に赤、青のタイマーを透明度0に */
[data-section="interval"] #red .time,
[data-section="interval"] #blue .time {
  opacity: 0;
}

[data-section="matchFinished"] .time,
[data-section="matchFinished"] .ball,
[data-section="resultApproval"] .time,
[data-section="resultApproval"] .ball {
  display: none;
}

[data-section="warmup"] #timeSetting .warmupTimer,
[data-section="warmup1"] #timeSetting .warmupTimer,
[data-section="warmup2"] #timeSetting .warmupTimer,
[data-section="interval"] #timeSetting .intervalTimer {
  display: flex;
  width: 100%;
  height: 37vh;
}

[data-section="standby"] #ends {
  display: none;
}

[data-section="warmup"] #ends,
[data-section="warmup1"] #ends,
[data-section="warmup2"] #ends {
  top: 28vh;
  display: block;
  width: inherit;
}

[data-section="warmup"] #endsBox,
[data-section="warmup1"] #endsBox,
[data-section="warmup2"] #endsBox {
  background: none;
}

[data-section="interval"] #ends {
  opacity: 0.5;
}

/* エンドセクションのスタイル */
#sec-end,
#sec-lastEnd {
  height: 50vh;
  padding-top: 28vh;
}

/* エンドセクション開始時、sectionNavを非表示（スコアボタンが押されるまで） */
[data-mode="ctrl"][data-section^="end"] #sectionNav {
  display: none;
}

/* 点数加算ボタンが押されたら（ctrlモードの時はred-scoreまたはblue-score）sectionNavを表示 */
[data-mode="ctrl"][data-section^="end"][data-active="red-score"] #sectionNav,
[data-mode="ctrl"][data-section^="end"][data-active="blue-score"] #sectionNav {
  display: block;
}

/* viewモードの時は、scoreでsectionNavを表示 */
[data-mode="view"][data-section^="end"][data-active="score"] #sectionNav {
  display: block;
}

/* penaltyThrow中は、sectionNavを強制的に非表示 */
[data-penaltythrow="true"] #sectionNav {
  display: none !important;
}

[data-section="finalShot"] #ends {
  display: block;
  width: 70vmin;
  transform: scale(0.6);
}

[data-section="matchFinished"] #ends,
#scoreboard[data-section="matchFinished"] .score .plus,
#scoreboard[data-section="matchFinished"] .score .minus,
#scoreboard[data-section="matchFinished"] .score .tieBreak,
[data-section="resultApproval"] #ends,
#scoreboard[data-section="resultApproval"] .score .plus,
#scoreboard[data-section="resultApproval"] .score .minus,
#scoreboard[data-section="resultApproval"] .score .tieBreak {
  display: none;
}


[data-section="warmup"] .score button[name$="ScoreBtn"],
[data-section="warmup1"] .score button[name$="ScoreBtn"],
[data-section="warmup2"] .score button[name$="ScoreBtn"] {
  display: none;
}

[data-section="standby"] main > section > div,
[data-section="standby"] main > section > ul {
  opacity: 0;
}

[data-section="standby"] main h2::after,
[data-section="warmup"] main h2::after,
[data-section="warmup1"] main h2::after,
[data-section="warmup2"] main h2::after {
  content: "";
  display: inline-block;
  position: absolute;
  bottom: -2vh;
  width: 100%;
  height: 3vh;
  border-radius: 0.5vmin;
  transition: transform 0.5s, filter 0.5s, opacity 0.5s;
}

[data-section="standby"][data-setcolor="false"] main h2::after {
  transform: scaleX(0.75);
}

[data-mode="view"] [data-section="standby"][data-setcolor="false"] main h2::after {
  filter: grayscale(1);
  opacity: 0.3;
}

/* ウォームアップタイマーのフォントサイズ */
[data-section="warmup"] [name="warmupTimerBtn"],
[data-section="warmup1"] [name="warmupTimerBtn"],
[data-section="warmup2"] [name="warmupTimerBtn"] {
  font-size: 35vmin;
}

/* ウォームアップタイマーが停止しているときの透明度 */
[data-section="warmup"] [name="warmupTimerBtn"]:not([data-running="true"]),
[data-section="warmup1"] [name="warmupTimerBtn"]:not([data-running="true"]),
[data-section="warmup2"] [name="warmupTimerBtn"]:not([data-running="true"]) {
    opacity: 0.8;
}

/* インターバルタイマーが停止しているときの透明度 */
[data-section="interval"] [name="intervalTimerBtn"]:not([data-running="true"]) {
    opacity: 0.8;
}

/* data-mode="view"の時はフルスクリーン以外のボタンを無効化 */
[data-mode="view"] main button,
[data-mode="view"] header [name="settingBtn"],
[data-mode="view"] footer button,
[data-section="matchFinished"] .score button,
[data-section="resultApproval"] .score button {
    pointer-events: none;
    cursor: not-allowed;
}

/* タイムモーダル */
.timeModal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background-color: var(--color-gray-medium-dark);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 9999;
    pointer-events: none;
    animation: timeModalFadeOut 1s 2s linear forwards;
}

.timeModalContent {
    color: white;
    padding: 40px 80px;
    text-align: center;
}

.timeModalContent p {
    font-size: 8rem;
    font-weight: bold;
    margin: 0;
    text-shadow: 2px 2px 4px var(--color-black-medium);
}

@keyframes timeModalFadeOut {
    0% {
        opacity: 1;
        transform: scale(1);
    }
    100% {
        opacity: 0;
        transform: scale(1);
    }
}

[data-mode="ctrl"] [data-section="interval"] #sectionNav [data-word="finishInterval"] {
  font-size: 6vmin;
  margin-top: 3vh;
}

#sectionNav [name="setColor"] {
  position: relative;
  top: -5vh;
  min-width: 8em;
  margin: 0;
  padding: 2vh 1em;
  font-size: 4vmin;
  transition: all 0.3s;
}

[data-setcolor="true"] #sectionNav [name="setColor"] {
  transform: scale(0.8);
  border-color: var(--color-gray-light);
  opacity: 0.5;
}

#sectionNav .finishWarmup {
  margin-top: 7vh;
}

#sectionNav .finishInterval {
  margin: 2.5vh 0;
  font-size: 7vmin;
}

#sec-matchFinished .btn.matchFinished,
#sec-tieBreak .btn.matchFinished {
  margin: 2.5vh 0;
  font-size: 7vmin;
}

[data-mode="view"] #sec-interval {
  margin: 10vh 0 11vh
}

[name="nextBtn"][data-word="finalShot"],
[name="nextBtn"][data-word="matchFinished"] {
  display: none;
}

[data-win="draw"] [name="nextBtn"][data-word="finalShot"],
[data-win="red"] [name="nextBtn"][data-word="matchFinished"],
[data-win="blue"] [name="nextBtn"][data-word="matchFinished"],
[data-win="finalShot"] [name="nextBtn"][data-word="matchFinished"] {
  display: inline-block;
}

#settingModal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: var(--color-black-light);
}

#settingDetailsModal {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: var(--color-black-darker);
  z-index: 1001;
}

[data-mode="view"] #settingModal {
  background-color: var(--color-black-darker);
}

[data-section="standby"] #settingModal {
  background-color: var(--color-black);
}

/* スタンバイセクションの入力欄 */
#standbySetting {
  display: flex;
  flex-direction: column;
  gap: 2vh;
  padding: 2vh 1vw;
}

#standbySetting input,
#standbySetting select {
  color: var(--color-white);
  padding: 2vh 1vw;
  border: solid 0.3vmin var(--color-white-medium);
  border-radius: 1vmin;
  box-sizing: border-box;
  background-color: var(--color-gray-medium-dark);
  font-weight: normal;
  font-family: inherit;
  font-size: 4vmin;
  width: 20vw;
  box-shadow: inset 0.2vmin 0.2vmin 1vmin rgba(0, 0, 0, 0.5),
              inset -0.1vmin -0.1vmin 0.5vmin rgba(255, 255, 255, 0.1);
}

#standbySetting select {
  padding: 2vh 1.25em 2vh 1vw;
}

#standbySetting > select,
#standbySetting > input {
  position: absolute;
}

#standbySetting input:focus,
#standbySetting select:focus {
  background-color: var(--color-white);
  color: var(--color-gray-dark);
  outline: none;
}

#standbySetting select option {
  font-size: 4vmin;
  background-color: var(--color-gray-medium-dark);
  color: var(--color-white);
}

#standbySetting #classificationInput,
#standbySetting #genderInput,
#standbySetting .detailSettingSelect {
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: none;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none'%3E%3Cpath d='M6 9l6 6 6-6' stroke='%23fff' stroke-width='3' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: right 0.25vw center;
  background-size: 4.2vmin 4.2vmin;
  width: 25vw;
}

#standbySetting #classificationInput:focus,
#standbySetting #genderInput:focus,
#standbySetting .detailSettingSelect:focus {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none'%3E%3Cpath d='M6 9l6 6 6-6' stroke='%23222' stroke-width='3' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E");
}

#standbySetting #classificationInput {
  top: 3vh;
  left: 15vw;
  width: 28vw;
}

#standbySetting #genderInput {
  top: 3vh;
  left: 45vw;
  width: 10vw;
}

#standbySetting #genderInput:disabled {
  opacity: 0;
  cursor: not-allowed;
}

#standbySetting #matchNameInput {
  top: 3vh;
  left: 57vw;
  width: 28vw;
}

#standbySetting #detailSettings {
  position: absolute;
  top: 60vh;
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 2vw 4vw;
  justify-items: center;
}

#standbySetting .detailSettingItem {
  display: flex;
  align-items: center;
  gap: 1vw;
  width: 46vw;
}

#standbySetting .detailSettingLabel {
  color: var(--color-white);
  font-size: 4vmin;
  font-family: var(--font-family-base);
  width: 14vw;
}

#standbySetting .detailSettingItem select {
  width: 29vw;
}

#standbySetting #redNameInput,
#standbySetting #blueNameInput {
  top: 42.2vh;
  font-size: 7vmin;
  text-align: center;
  left: 1vw;
  width: 45.7vw;
}

#standbySetting #blueNameInput {
  left: inherit;
  right: 1vw;
}

/* タイブレークボタンのスタイル */
.tiebreakButtons {
    display: flex;
    gap: 10px;
    margin-top: 10px;
}

.tiebreakBtn {
    padding: 10px 20px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-size: 14px;
    font-weight: bold;
    transition: all 0.3s ease;
}

#settingDetailsModal {
  display: block;
}

#detailsModal {
  background-color: var(--color-gray-darker);
  color: var(--color-white);
  padding: 2rem;
  border-radius: 10px;
  max-width: 900px;
  width: 90%;
  max-height: 80vh;
  overflow-y: auto;
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
    box-shadow: 0 10px 30px var(--color-black-dark);
  border: 1px solid var(--color-gray-medium);
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1rem;
  align-items: start;
}

#detailsModal h2 {
  text-align: center;
  margin-bottom: 1.6rem;
  color: var(--color-white);
  font-size: 1rem;
  opacity: 1;
  grid-column: 1 / -1;
}

.settingSection {
  padding: 1rem;
  border: 1px solid var(--color-gray-base);
  background-color: var(--color-gray-medium-dark);
  border-radius: 8px;
}

.settingSection h3 {
  margin-bottom: 1rem;
  color: var(--color-white);
  font-size: 1.2rem;
}

.inputGroup {
  margin-bottom: 1rem;
  display: flex;
  align-items: center;
  gap: 1rem;
}

.inputGroup label {
  min-width: 120px;
  font-weight: bold;
  color: var(--color-white);
}

.inputGroup input,
.inputGroup select {
  flex: 1;
  padding: 0.5rem;
  border: 1px solid var(--color-gray-base);
  border-radius: 4px;
  font-size: 1rem;
  background-color: var(--color-gray-base);
  color: var(--color-white);
}

.modalButtons {
  display: flex;
  justify-content: center;
  gap: 1rem;
  margin-top: 2rem;
  grid-column: 1 / -1;
}

#scoreboard .okBtn {
  display: inline-block;
  padding: 1vmin 7vmin;
  border: solid 2px var(--color-white);
  border-radius: 15vmin;
  font-size: 1.2rem;
  background-color: transparent;
  color: var(--color-white);
  cursor: pointer;
  transition: all 0.3s;
}

.settingModalCloseBtn {
  position: absolute;
  width: 6vw;
  opacity: 1;
  top: 62vh;
  left: 47vw;
}

.settingModalCloseBtn img {
  position: relative;
  top: -3px;
  left: -3px;
}

#setting #fullscreenBtn {
  position: absolute;
  width: 6vw;
  opacity: 0;
  top: 3vh;
  right: 3vw;
}

#setting #fullscreenBtn:hover {
  opacity: 0.8;
  background-color: var(--color-black-dark);
}

.settingOpen #setting,
[data-mode="view"] .settingOpen #indexModal {
  display: none;
}

.settingOpen h2,
.settingOpen main h2::after,
.settingOpen .score,
.settingOpen .ball,
.settingOpen .win img,
.settingOpen #sec-standby,
.settingOpen .finishInterval,
.settingOpen .finishWarmup,
.settingOpen .startInterval,
.settingOpen #sec-matchFinished,
.settingOpen #resultApproval .approvalButtons,
.settingOpen #resultTable {
  opacity: 0.1;
}

[data-section="tieBreak"] #sec-standby {
  display: none;
}

[data-section="tieBreak"] #endsBox {
  display: flex;
  justify-content: center;
  align-items: center;
}

#restartEndContainer {
  display: flex;
  justify-content: center;
  align-items: center;
  padding-top: 12vh;
}

#restartEndContainer .btn {
  display: inline-block;
  padding: 1vmin 7vmin;
  border: solid 0.3vmin var(--color-white);
  border-radius: 15vmin;
  font-size: 3vmin;
  background: transparent;
  color: var(--color-white);
  cursor: pointer;
}

[name="resetBtn"] {
  position: absolute;
  top: 3vh;
  width: 6vw;
  left: 3vw;
  filter: brightness(3);
  opacity: 0.2;
}

[name="resetBtn"]:hover {
opacity: 0.8;
}

[name="settingDetailsBtn"] {
  position: absolute;
  top: 3vh;
  width: 6vw;
  right: 3vw;
  filter: brightness(3);
  opacity: 0.2;
}

[name="settingDetailsBtn"]:hover {
  opacity: 0.8;
}

/* ステップバー */
#endsSetting {
  display: flex;
  justify-content: center;
  width: 96vw;
  margin: 15vh auto;
  padding: 0;
  overflow: hidden;
}

#endsSetting .step-list {
  display: flex;
  align-items: center;
  justify-content: space-between;
  list-style: none;
  margin: 0;
  padding: 0;
  gap: 0;
  flex-wrap: nowrap;
  width: 100%;
  position: relative;
  padding-left: 0;
  padding-right: 0;
}

#endsSetting .step-item {
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  flex: 1 1 0;
  min-width: 0;
  overflow: visible;
}

#endsSetting .step-item.step-has-line::after {
  content: '';
  position: absolute;
  left: calc(50% + 0.6vmin);
  top: calc(0.6vh + 0.6vmin);
  width: calc(100% - 1.2vmin);
  height: 0.4vh;
  background-color: var(--color-gray-light);
  z-index: 0;
  pointer-events: none;
  transform: translateY(-50%);
  overflow: hidden;
}

#endsSetting .step-item:first-child::before {
  display: none;
}

#endsSetting .step-item:last-child::after {
  display: none;
}

#endsSetting .step-item.step-completed::before {
  content: '';
  position: absolute;
  left: 0;
  top: calc(0.6vh + 0.6vmin);
  width: 50%;
  height: 0.4vh;
  background-color: #FFF;
  z-index: 1;
  pointer-events: none;
  transform: translateY(-50%);
  overflow: hidden;
}

#endsSetting .step-item.step-completed.step-has-line::after {
  background-color: #FFF;
  z-index: 1;
  top: calc(0.6vh + 0.6vmin);
  height: 0.4vh;
}

#endsSetting .step-item.step-current.step-has-line::after {
  background-color: var(--color-gray-light);
  z-index: 1;
  top: calc(0.6vh + 0.6vmin);
  height: 0.4vh;
}

#endsSetting .step-button {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  background: transparent;
  border: none;
  padding: 0;
  margin: 0;
  cursor: pointer;
  position: relative;
  z-index: 2;
  width: 100%;
  min-width: 0;
  overflow: visible;
  isolation: isolate;
}

#endsSetting .step-indicator {
  width: 1.2vmin;
  height: 1.2vmin;
  border-radius: 50%;
  border: none;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 0.8vh;
  position: relative;
  background-color: transparent;
  flex-shrink: 0;
  z-index: 1;
  margin-top: 0.6vh;
}

#endsSetting .step-indicator-fill {
  width: 100%;
  height: 100%;
  border-radius: 50%;
  background-color: #FFF;
  position: absolute;
  top: 0;
  left: 0;
}

#endsSetting .step-label {
  font-size: 0.9vw;
  white-space: nowrap;
  text-align: center;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 100%;
  margin-top: 0.5vh;
}

#endsSetting .step-item.step-completed .step-indicator {
  border: none;
  background-color: #FFF;
}

#endsSetting .step-item.step-completed .step-label {
  color: var(--color-gray-light);
}

#endsSetting .step-item.step-current .step-indicator {
  width: 1.2vmin;
  height: 1.2vmin;
  border: none;
  background-color: #FFF;
  margin-top: 0.6vh;
  transform: scale(2);
}

#endsSetting .step-item.step-current .step-label {
  color: var(--color-white);
  font-weight: bold;
  transform: scale(1.2);
}

#endsSetting .step-item.step-future .step-indicator {
  border: none;
  background-color: var(--color-gray-light);
}

#endsSetting .step-item.step-future .step-label {
  color: var(--color-gray-light);
  font-weight: normal;
}

#endsSetting .step-button:focus {
  outline: none;
}

#endsSetting .step-button:active {
  transform: none;
  position: relative;
  top: auto;
  left: auto;
  margin: 0;
  padding: 0;
}

#endsSetting .step-button:active .step-indicator {
  transform: scale(1);
  position: relative;
  top: auto;
  left: auto;
  margin-top: 0.6vh;
  margin-bottom: 0.8vh;
}

#endsSetting .step-item.step-current .step-button:active .step-indicator {
  transform: scale(2);
  margin-top: 0.6vh;
}

#endsSetting .step-item:active::after {
  position: absolute;
  left: calc(50% + 0.6vmin);
  top: calc(0.6vh + 0.6vmin);
  width: calc(100% - 1.2vmin);
  height: 0.4vh;
  transform: translateY(-50%);
}

#endsSetting .step-item.step-current:active::after {
  top: calc(0.6vh + 0.6vmin);
  height: 0.4vh;
}

#penaltyTimeoutSetting {
  display: flex;
  justify-content: space-between;
  align-items: center;
  position: absolute;
  top: 35vh;
  left: 50%;
  transform: translateX(-50%);
  width: 96vw;
  gap: 4vw;
}

#penaltyTimeoutSetting .penaltyTimeoutGroup {
  display: flex;
  gap: 2vw;
  flex: 1;
}

#penaltyTimeoutSetting .penaltyTimeoutGroup.blue {
  justify-content: flex-end;
}

#penaltyTimeoutSetting .btn {
  width: 20vw;
  padding: 1.5vmin 4vmin;
  font-size: 3vmin;
  border: solid 0.3vmin var(--color-white);
  border-radius: 2vmin;
  background-color: var(--color-gray-base);
  color: var(--color-white);
  cursor: pointer;
  transition: background-color 0.3s;
}

#penaltyTimeoutSetting .btn:hover {
  background-color: var(--color-gray-light);
}

#penaltyTimeoutSetting .penaltyTimeoutGroup.red .btn.penalty,
#penaltyTimeoutSetting .penaltyTimeoutGroup.red .btn.timeout {
  background-color: var(--color-red-light);
}

#penaltyTimeoutSetting .penaltyTimeoutGroup.blue .btn.penalty,
#penaltyTimeoutSetting .penaltyTimeoutGroup.blue .btn.timeout {
  background-color: var(--color-blue-light);
}

#timeSetting {
  display: flex;
  justify-content: space-between;
  position: absolute;
  top: 48vh;
  left: 2vw;
  width: 96vw;
  height: 39vh;
}

[data-section="warmup"] #timeSetting,
[data-section="warmup1"] #timeSetting,
[data-section="warmup2"] #timeSetting {
  top: 34.5vh;
}

#timeSetting .btnList {
  display: flex;
  justify-content: center;
  width: 45%;
}

#timeSetting .btnList:first-child {
  margin-left: 3%;
}

#timeSetting .btnList > div {
  position: relative;
  width: 16vmin;
  margin: 0 0.6vmin;
}

#timeSetting .btnList > div:first-child {
  margin-right: 10vmin;
}

#timeSetting button {
  width: 10vmin;
  height: 10vmin;
  border: solid 0.3vmin var(--color-white);
  border-radius: 2vmin;
  box-sizing: border-box;
  font-size: 6vmin;
}

#timeSetting button.minus {
  position: absolute;
  left: 0;
  bottom: 0;
}

#viewModal {
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 20vmin;
  height: 100vh;
}

.fadeOut #settingModal {
  animation: fadeOut-anim 1s linear forwards;
}

@keyframes fadeIn-anim {
  0% {
    opacity: 0;
  }
  100% {
  	opacity: 1;
  }
}
@keyframes fadeOut-anim {
  100% {
  	opacity: 0;
  }
}

@media screen and (min-width: 1921px) and (min-height: 1281px) {
  main section h2 {
    font-size: 90px;
  }
  .bibs {
    width: 96px;
    height: 133px;
  }

  [data-section="finalShot"] #ends {
    opacity: 1;
  }
}

@media screen and (max-width: 1920px) {
  main section h2 {
    font-size: 4.5vw;
  }
  .bibs {
    top: 1.5vh;
    width: 3.6vw;
    height: 5vw;
  }
 .time button {
   font-size: 17vw;
  }


  [data-section="finalShot"] #ends {
    opacity: 0;
  }
}

@media screen and (max-width: 800px) {
  /* ステップバーを横スクロール可能にする */
  #endsSetting {
    overflow-x: auto;
    overflow-y: hidden;
    -webkit-overflow-scrolling: touch;
    justify-content: flex-start;
  }

  #endsSetting .step-list {
    width: 800px;
    min-width: 800px;
    flex-shrink: 0;
  }

  /* 線の太さを固定 */
  #endsSetting .step-item.step-has-line::after {
    height: 2px;
  }

  #endsSetting .step-item.step-completed::before {
    height: 2px;
  }

  #endsSetting .step-item.step-completed.step-has-line::after {
    height: 2px;
  }

  #endsSetting .step-item.step-current.step-has-line::after {
    height: 2px;
  }

  #endsSetting .step-item:active::after {
    height: 2px;
  }

  #endsSetting .step-item.step-current:active::after {
    height: 2px;
  }

  /* 円のサイズを固定 */
  #endsSetting .step-indicator {
    width: 6px;
    height: 6px;
    margin-top: 3px;
    margin-bottom: 4px;
  }

  #endsSetting .step-item.step-current .step-indicator {
    width: 6px;
    height: 6px;
    margin-top: 3px;
  }

  /* 線の位置を固定 */
  #endsSetting .step-item.step-has-line::after {
    left: calc(50% + 3px);
    top: calc(3px + 3px);
    width: calc(100% - 6px);
  }

  #endsSetting .step-item.step-completed::before {
    top: calc(3px + 3px);
  }

  #endsSetting .step-item.step-completed.step-has-line::after {
    top: calc(3px + 3px);
  }

  #endsSetting .step-item.step-current.step-has-line::after {
    top: calc(3px + 3px);
  }

  #endsSetting .step-item:active::after {
    left: calc(50% + 3px);
    top: calc(3px + 3px);
    width: calc(100% - 6px);
  }

  #endsSetting .step-item.step-current:active::after {
    top: calc(3px + 3px);
  }

  /* 文字サイズを固定 */
  #endsSetting .step-label {
    font-size: 9px;
    margin-top: 2.5px;
  }
}

/* 反則選択モーダル */
#penaltyModal {
  position: fixed;
  inset: 0;
  width: 100vw;
  height: 100vh;
  max-width: none;
  max-height: none;
  margin: 0;
  background-color: var(--color-black-dark);
  border: none;
  padding: 0;
  z-index: 1002;
  box-sizing: border-box;
}

#penaltyModal::backdrop {
  background-color: var(--color-black-light);
}

[data-mode="view"] #penaltyModal {
  background-color: var(--color-black-darker);
}

[data-mode="view"] #penaltyModal::backdrop {
  background-color: var(--color-black-darker);
}

.penaltyModalBox {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background-color: var(--color-gray-darker);
  border: 1px solid var(--color-gray-base);
  border-radius: 2vmin;
  padding: 3vh 4vw 5vh;
  width: 80vw;
  max-width: 100vmin;
  max-height: 90vh;
  overflow-y: auto;
  box-shadow: 0 10px 30px var(--color-black-dark);
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 3vmin;
}

#penaltyModal .penaltyModalTitle {
  font-size: 4vmin;
  color: var(--color-white);
  margin: 0;
  text-align: center;
  font-weight: bold;
  opacity: 1;
  border-bottom: 1vh solid;
  padding: 0 2vw 0.5vh;
}

#penaltyModal .penaltyModalTitle.red {
  border-color: var(--color-red-base);
}

#penaltyModal .penaltyModalTitle.blue {
  border-color: var(--color-blue-base);
}

.penaltyList {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 2vmin;
  width: 100%;
  align-items: stretch;
}

#penaltyModal .penaltyItem {
  width: 100%;
  padding: 1.5vmin 2vmin;
  font-size: 3vmin;
  border: solid 0.2vmin var(--color-white);
  border-radius: 1.5vmin;
  background-color: transparent;
  color: var(--color-white);
  cursor: pointer;
}

#penaltyModal .penaltyItem.penaltyItem-fullWidth {
  grid-column: 1 / -1;
}


#penaltyModal[data-team-color="red"] .penaltyItem {
  background-color: var(--color-red-light);
}

#penaltyModal .penaltyModalCloseBtn {
  position: absolute;
  top: 0;
  right: 0;
  width: auto;
  height: auto;
  background: transparent;
  border: none;
  color: var(--color-white);
  font-size: 8vmin;
  cursor: pointer;
  padding: 0 1.5vw;
  line-height: 1;
  z-index: 10;
}

#penaltyModal .penaltyModalCloseBtn:hover {
  opacity: 0.8;
}

@media screen and (max-width: 800px) {
  .penaltyModalBox {
    width: 90vw;
    padding: 3vmin;
  }

  #penaltyModal .penaltyModalTitle {
    font-size: 5vmin;
  }

  #penaltyModal .penaltyItem {
    font-size: 4vmin;
    padding: 3vmin 4vmin;
  }
}

/* タイムアウト選択モーダル */
#timeoutModal {
  position: fixed;
  inset: 0;
  width: 100vw;
  height: 100vh;
  max-width: none;
  max-height: none;
  margin: 0;
  background-color: var(--color-black-dark);
  border: none;
  padding: 0;
  z-index: 1002;
  box-sizing: border-box;
}

#timeoutModal::backdrop {
  background-color: var(--color-black-light);
}

[data-mode="view"] #timeoutModal {
  background-color: var(--color-black-darker);
}

[data-mode="view"] #timeoutModal::backdrop {
  background-color: var(--color-black-darker);
}

.timeoutModalBox {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background-color: var(--color-gray-darker);
  border: 1px solid var(--color-gray-base);
  border-radius: 2vmin;
  padding: 3vh 4vw 5vh;
  width: 80vw;
  max-width: 100vmin;
  max-height: 90vh;
  overflow-y: auto;
  box-shadow: 0 10px 30px var(--color-black-dark);
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 3vmin;
  position: relative;
}

#timeoutModal .timeoutModalTitle {
  font-size: 4vmin;
  color: var(--color-white);
  margin: 0;
  text-align: center;
  font-weight: bold;
  opacity: 1;
  border-bottom: 1vh solid;
  padding: 0 2vw 0.5vh;
}

#timeoutModal .timeoutModalTitle.red {
  border-color: var(--color-red-base);
}

#timeoutModal .timeoutModalTitle.blue {
  border-color: var(--color-blue-base);
}

.timeoutList {
  display: flex;
  flex-direction: column;
  gap: 4vmin;
  width: 100%;
  align-items: stretch;
}

.timeoutItemContainer {
  display: flex;
  flex-direction: column;
  gap: 1vmin;
  width: 100%;
}

#timeoutModal .timeoutItem {
  width: 100%;
  padding: 1.5vmin 2vmin;
  font-size: 4vmin;
  border: solid 0.2vmin var(--color-white);
  border-radius: 1.5vmin;
  background-color: transparent;
  color: var(--color-white);
  cursor: pointer;
}

#timeoutModal .timeoutItem:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

#timeoutModal .timeoutItem.timeoutItem-running {
  border-color: var(--color-yellow-base, #FFD700);
}

.timeoutTimer {
  font-size: 5vmin;
  color: var(--color-white);
  text-align: center;
  font-weight: bold;
  font-family: monospace;
}

#timeoutModal .timeoutItem.timeoutItem-fullWidth {
  grid-column: 1 / -1;
}

#timeoutModal .timeoutModalCloseBtn {
  position: absolute;
  top: 0;
  right: 0;
  width: auto;
  height: auto;
  background: transparent;
  border: none;
  color: var(--color-white);
  font-size: 8vmin;
  cursor: pointer;
  padding: 0 1.5vw;
  line-height: 1;
  z-index: 10;
}

#timeoutModal .timeoutModalCloseBtn:hover {
  opacity: 0.8;
}

@media screen and (max-width: 800px) {
  .timeoutModalBox {
    width: 90vw;
    padding: 3vmin;
  }

  #timeoutModal .timeoutModalTitle {
    font-size: 5vmin;
  }

  #timeoutModal .timeoutItem {
    font-size: 4vmin;
    padding: 3vmin 4vmin;
  }
}

/* 確認モーダル */
#confirmModal {
  position: fixed;
  inset: 0;
  width: 100vw;
  height: 100vh;
  max-width: none;
  max-height: none;
  margin: 0;
  background-color: var(--color-black-dark);
  border: none;
  padding: 0;
  z-index: 1003;
  box-sizing: border-box;
}

#confirmModal::backdrop {
  background-color: var(--color-black-light);
}

[data-mode="view"] #confirmModal {
  background-color: var(--color-black-darker);
}

[data-mode="view"] #confirmModal::backdrop {
  background-color: var(--color-black-darker);
}

.confirmModalBox {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background-color: var(--color-gray-darker);
  border: 1px solid var(--color-gray-base);
  border-radius: 2vmin;
  padding: 5vh 6vw;
  width: 80vw;
  max-width: 100vmin;
  box-shadow: 0 10px 30px var(--color-black-dark);
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4vmin;
}

.confirmModalMessage {
  font-size: 4vmin;
  color: var(--color-white);
  text-align: center;
  margin: 0;
  line-height: 1.5;
}

.confirmModalButtons {
  display: flex;
  gap: 6vmin;
  width: 100%;
  justify-content: center;
}

#confirmModal .confirmModalBtn {
  padding: 2vmin 6vmin;
  font-size: 3.5vmin;
  border: solid 0.2vmin var(--color-white);
  border-radius: 1.5vmin;
  background-color: transparent;
  color: var(--color-white);
  cursor: pointer;
  width: 30vw;
  flex: 0 0 30vw;
}

#confirmModal .confirmModalBtn-ok {
  border-color: var(--color-white);
}

#confirmModal .confirmModalBtn-ok:hover {
  opacity: 0.8;
}

#confirmModal .confirmModalBtn-cancel {
  border-color: var(--color-white);
}

#confirmModal .confirmModalBtn-cancel:hover {
  opacity: 0.8;
}

/* タイムアウトタイマーモーダル */
#timeoutTimerModal {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  width: 100vw;
  height: 100vh;
  margin: 0;
  background-color: var(--color-black-dark);
  border: none;
  padding: 0;
  z-index: 1003;
  inset: 0;
  max-width: none;
  max-height: none;
  box-sizing: border-box;
}

#timeoutTimerModal::backdrop {
  background-color: rgba(0, 0, 0, 0.8);
}

.timeoutTimerModalBox {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background-color: var(--color-gray-darker);
  border: 1px solid var(--color-gray-base);
  border-radius: 2vmin;
  padding: 5vh 6vw;
  width: 80vw;
  max-width: 100vmin;
  box-shadow: 0 10px 30px var(--color-black-dark);
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 5vh;
  position: relative;
}

#timeoutTimerModal .timeoutTimerModalTitle {
  font-size: 5vmin;
  color: var(--color-white);
  margin: 0;
  text-align: center;
  font-weight: bold;
  opacity: 1;
  border-bottom: 1vh solid;
  padding: 0 2vw 1vh;
  width: 100%;
}

#timeoutTimerModal .timeoutTimerModalTitle.red {
  border-color: var(--color-red-base);
}

#timeoutTimerModal .timeoutTimerModalTitle.blue {
  border-color: var(--color-blue-base);
}

.timeoutTimerDisplay {
  font-size: 35vmin;
  font-weight: bold;
  color: var(--color-white);
  text-align: center;
  line-height: 1;
  font-variant-numeric: tabular-nums;
}

#scoreboard .timeoutTimerEndBtn {
  padding: 2vmin 8vmin;
  font-size: 4vmin;
  border: solid 0.2vmin var(--color-white);
  border-radius: 1.5vmin;
  background-color: transparent;
  color: var(--color-white);
  cursor: pointer;
  min-width: 30vw;
}

#scoreboard .timeoutTimerEndBtn:hover {
  opacity: 0.8;
}

#timeoutTimerModal .timeoutTimerModalCloseBtn {
  position: absolute;
  top: 0;
  right: 0;
  width: auto;
  height: auto;
  background: transparent;
  border: none;
  color: var(--color-white);
  font-size: 8vmin;
  cursor: pointer;
  padding: 0 1.5vw;
  line-height: 1;
  z-index: 10;
}

#timeoutTimerModal .timeoutTimerModalCloseBtn:hover {
  opacity: 0.8;
}

@media screen and (max-width: 800px) {
  .confirmModalBox {
    width: 90vw;
    padding: 4vmin;
  }

  .confirmModalMessage {
    font-size: 5vmin;
  }

  .confirmModalBtn {
    font-size: 4vmin;
    padding: 3vmin 5vmin;
  }
  
  .timeoutTimerModalBox {
    width: 90vw;
    padding: 4vmin;
  }

  .timeoutTimerDisplay {
    font-size: 26vmin;
  }

  #scoreboard .timeoutTimerEndBtn {
    font-size: 5vmin;
    padding: 3vmin 6vmin;
  }
}
